<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>WhatsApp AI Web</title>
        <link rel="stylesheet" href="styles.css" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div id="app">
            <!-- Loading Screen -->
            <div id="loading-screen" class="loading-screen">
                <div class="loading-content">
                    <div class="whatsapp-logo">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h2>WhatsApp AI Web</h2>
                    <div class="loading-spinner"></div>
                    <p id="loading-text">Initializing...</p>
                </div>
            </div>

            <!-- QR Code Screen -->
            <div id="qr-screen" class="qr-screen hidden">
                <div class="qr-content">
                    <div class="whatsapp-logo">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h2>Scan QR Code</h2>
                    <p>Scan this QR code with your WhatsApp mobile app</p>
                    <div id="qr-code" class="qr-code"></div>
                    <p class="qr-instructions">
                        1. Open WhatsApp on your phone<br />
                        2. Tap Menu or Settings and select Linked Devices<br />
                        3. Tap Link a Device<br />
                        4. Point your phone at this screen to capture the code
                    </p>
                </div>
            </div>

            <!-- Main App -->
            <div id="main-app" class="main-app hidden">
                <!-- Sidebar -->
                <div class="sidebar">
                    <!-- Header -->
                    <div class="sidebar-header">
                        <div class="user-info">
                            <div class="user-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-details">
                                <h3 id="user-name">WhatsApp AI</h3>
                                <p id="user-status">Online</p>
                            </div>
                        </div>
                        <div class="sidebar-actions">
                            <button
                                class="action-btn"
                                id="refresh-chats-btn"
                                title="Refresh Chats"
                            >
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="cache-btn"
                                title="Cache Management"
                            >
                                <i class="fas fa-database"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="export-import-btn"
                                title="Export & Import"
                            >
                                <i class="fas fa-download"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="new-chat-btn"
                                title="New Chat"
                            >
                                <i class="fas fa-plus"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="menu-btn"
                                title="Menu"
                            >
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Search -->
                    <div class="search-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input
                                type="text"
                                id="search-input"
                                placeholder="Search or start new chat"
                            />
                        </div>
                    </div>

                    <!-- Tabs -->
                    <div class="tabs-container">
                        <button class="tab-btn active" id="chats-tab">
                            <i class="fas fa-comments"></i> Chats
                        </button>
                        <button class="tab-btn" id="contacts-tab">
                            <i class="fas fa-users"></i> Contacts
                        </button>
                    </div>

                    <!-- Chat List -->
                    <div class="chat-list" id="chat-list">
                        <!-- Chats will be populated here -->
                    </div>

                    <!-- Contacts List -->
                    <div class="contacts-list hidden" id="contacts-list">
                        <div class="contacts-header">
                            <button class="btn-secondary" id="sync-google-btn">
                                <i class="fab fa-google"></i> Sync Google
                                Contacts
                            </button>
                        </div>
                        <!-- Contacts will be populated here -->
                    </div>

                    <!-- Google Sync Section -->
                    <div
                        class="google-sync-section hidden"
                        id="google-sync-section"
                    >
                        <div class="sync-header">
                            <h3>Google Contacts Sync</h3>
                            <button class="close-btn" id="close-sync-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="sync-content">
                            <p>
                                Sync your Google Contacts with WhatsApp contacts
                                to find matches and missing contacts.
                            </p>
                            <div class="sync-actions">
                                <button
                                    class="btn-primary"
                                    id="google-auth-btn"
                                >
                                    <i class="fab fa-google"></i> Connect Google
                                    Account
                                </button>
                                <button
                                    class="btn-secondary"
                                    id="manual-token-btn"
                                >
                                    <i class="fas fa-key"></i> Use Access Token
                                </button>
                            </div>
                            <div class="sync-results hidden" id="sync-results">
                                <!-- Sync results will be shown here -->
                            </div>
                        </div>
                    </div>

                    <!-- Cache Management Section -->
                    <div class="cache-section hidden" id="cache-section">
                        <div class="cache-header">
                            <h3>Cache Management</h3>
                            <button class="close-btn" id="close-cache-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="cache-content">
                            <div class="cache-stats" id="cache-stats">
                                <!-- Cache statistics will be shown here -->
                            </div>
                            <div class="cache-actions">
                                <button
                                    class="cache-btn refresh"
                                    id="refresh-cache-btn"
                                >
                                    <i class="fas fa-sync"></i> Refresh Stats
                                </button>
                                <button
                                    class="cache-btn clear"
                                    id="clear-all-cache-btn"
                                >
                                    <i class="fas fa-trash"></i> Clear All Cache
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Area -->
                <div class="chat-area">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <div class="chat-info">
                            <div class="chat-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="chat-details">
                                <h3 id="chat-name">Select a chat</h3>
                                <p id="chat-status">
                                    Choose a conversation to start
                                </p>
                            </div>
                        </div>
                        <div class="chat-actions">
                            <button
                                class="action-btn"
                                id="video-call-btn"
                                title="Video Call"
                            >
                                <i class="fas fa-video"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="voice-call-btn"
                                title="Voice Call"
                            >
                                <i class="fas fa-phone"></i>
                            </button>
                            <button
                                class="action-btn"
                                id="chat-menu-btn"
                                title="Menu"
                            >
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Messages Area -->
                    <div class="messages-area" id="messages-area">
                        <div class="welcome-message">
                            <div class="welcome-content">
                                <i class="fab fa-whatsapp"></i>
                                <h2>WhatsApp AI Web</h2>
                                <p>
                                    Send and receive messages with AI assistance
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- AI Prompt Buttons -->
                    <div
                        class="ai-prompts-container"
                        id="ai-prompts-container"
                        style="display: none"
                    >
                        <div class="ai-prompts-header">
                            <span>AI Suggestions</span>
                            <button
                                id="close-ai-prompts"
                                class="close-ai-prompts"
                            >
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="ai-prompts-list" id="ai-prompts-list">
                            <!-- AI-generated prompts will be inserted here -->
                        </div>
                    </div>

                    <!-- Message Input -->
                    <div class="message-input-container">
                        <div class="message-input">
                            <button
                                class="input-btn"
                                id="attach-btn"
                                title="Attach"
                            >
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <button
                                class="input-btn"
                                id="ai-prompts-btn"
                                title="AI Suggestions"
                            >
                                <i class="fas fa-magic"></i>
                            </button>
                            <div class="input-wrapper">
                                <input
                                    type="text"
                                    id="message-input"
                                    placeholder="Type a message"
                                    disabled
                                />
                                <button
                                    class="input-btn"
                                    id="voice-btn"
                                    title="Voice Message"
                                >
                                    <i class="fas fa-microphone"></i>
                                </button>
                                <button
                                    class="input-btn"
                                    id="emoji-btn"
                                    title="Emoji"
                                >
                                    <i class="fas fa-smile"></i>
                                </button>
                            </div>
                            <button class="send-btn" id="send-btn" disabled>
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Response Modal -->
            <div id="ai-modal" class="ai-modal hidden">
                <div class="ai-modal-content">
                    <div class="ai-modal-header">
                        <h3>AI Response Options</h3>
                        <button class="close-btn" id="close-ai-modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="ai-responses" id="ai-responses">
                        <!-- AI responses will be populated here -->
                    </div>
                    <div class="ai-modal-actions">
                        <button class="btn-secondary" id="generate-more-btn">
                            <i class="fas fa-refresh"></i> Generate More
                        </button>
                    </div>
                </div>
            </div>

            <!-- Voice Recording Overlay -->
            <div
                class="voice-recording-overlay hidden"
                id="voice-recording-overlay"
            >
                <div class="voice-recording-content">
                    <div class="voice-recording-animation">
                        <div class="voice-wave"></div>
                        <div class="voice-wave"></div>
                        <div class="voice-wave"></div>
                    </div>
                    <p class="voice-recording-text">
                        Recording voice message...
                    </p>
                    <div class="voice-recording-controls">
                        <button class="voice-btn cancel" id="voice-cancel-btn">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button class="voice-btn send" id="voice-send-btn">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>
            </div>

            <!-- Contact Details Section -->
            <div
                class="contact-details-section hidden"
                id="contact-details-section"
            >
                <div class="contact-details-header">
                    <h3>Contact Details</h3>
                    <button class="close-btn" id="close-contact-details-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div
                    class="contact-details-content"
                    id="contact-details-content"
                >
                    <!-- Contact details will be populated here -->
                </div>
            </div>

            <!-- Export/Import Section -->
            <div
                class="export-import-section hidden"
                id="export-import-section"
            >
                <div class="export-import-header">
                    <h3>Export & Import</h3>
                    <button class="close-btn" id="close-export-import-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="export-import-content">
                    <div class="export-section">
                        <h4>Export Data</h4>
                        <div class="export-options">
                            <button class="export-btn" id="export-chats-btn">
                                <i class="fas fa-comments"></i> Export Chats
                            </button>
                            <button class="export-btn" id="export-messages-btn">
                                <i class="fas fa-envelope"></i> Export Messages
                            </button>
                            <button class="export-btn" id="export-contacts-btn">
                                <i class="fas fa-users"></i> Export Contacts
                            </button>
                            <button class="export-btn" id="export-media-btn">
                                <i class="fas fa-images"></i> Export Media
                            </button>
                            <button class="export-btn" id="export-all-btn">
                                <i class="fas fa-download"></i> Export All
                            </button>
                        </div>
                    </div>

                    <div class="import-section">
                        <h4>Import Files</h4>
                        <div class="import-options">
                            <input
                                type="file"
                                id="import-files-input"
                                multiple
                                accept="image/*,video/*,.pdf,.doc,.docx,.txt"
                                style="display: none"
                            />
                            <button class="import-btn" id="import-files-btn">
                                <i class="fas fa-upload"></i> Select Files
                            </button>
                            <div class="import-preview" id="import-preview">
                                <!-- Selected files will be shown here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Indicator -->
            <div id="status-indicator" class="status-indicator">
                <div class="status-dot"></div>
                <span id="status-text">Connecting...</span>
            </div>
        </div>

        <script src="/socket.io/socket.io.js"></script>
        <script src="app.js"></script>
    </body>
</html>
